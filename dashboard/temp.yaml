---
title: Summary
icon: "mdi:home-circle"
path: "summary"
theme: "Metro Red"

# Most of the layouts are based on CSS Grids using layout-card.
# The cards are first set inside a layout card for margins
# and then inside another layout card for the columns for the top half,
# while the bottom half is a layout-card in masonry layout.

# Learn more about CSS Grids:
# https://css-tricks.com/snippets/css/complete-guide-grid/

type: "custom:grid-layout"
layout:
  grid-template-rows: auto 32px
  grid-template-columns: 8px 1fr 8px
  grid-template-areas: |
    ". cc ." ". . ."
  margin: 0
  card_margin: 0
  mediaquery:
    "(min-width: 1544px)":
      # grid-template-columns: auto 1440px auto
      # grid-template-areas: |
      #   ". cc ." ". . ."

      grid-template-columns: 0 auto 0
      grid-template-areas: |
        ". cc ."
      grid-column-gap: 32px
    "(min-width: 1200px)":
      grid-template-columns: 0 auto 0
      grid-template-areas: |
        ". cc ."
      grid-column-gap: 32px

cards:
  - type: "custom:layout-card"
    layout_type: "custom:grid-layout"

    layout:
      grid-template-columns: >-
        calc( 25% - 24px ) calc( 25% - 24px ) calc( 25% - 24px ) calc(
        25% - 24px )
      grid-column-gap: 32px
      grid-template-areas: |
        "h h h h"
        "c1 fp fp c2"
      mediaquery:
        "(max-width: 512px)":
          grid-template-columns: 1fr
          grid-template-areas: |
            "h"
            "fp"
            "c1"
            "c2"
          margin: 0
        "(max-width: 800px)":
          grid-template-columns: 1fr 1fr
          grid-template-areas: |
            "h h"
            "fp fp"
            "c1 c2"
          margin: 0
        "(max-width: 1128px)":
          grid-template-columns: 1fr 1fr 1fr
          grid-template-areas: |
            "h h h"
            "c1 fp fp"
            "c2 none none"
          margin: 0
      margin: 0

    view_layout:
      grid-area: cc

    cards:
      # [Header] Greetings

      - type: custom:state-switch
        entity: user
        default: default
        view_layout:
          grid-area: h
        states:
          Maddy:
            type: "custom:layout-card"
            layout_type: "custom:grid-layout"
            layout:
              margin: -16px 0 0 0

          default:
            type: "custom:layout-card"
            layout_type: "custom:grid-layout"
            layout:
              grid-template-columns: auto min-content
              grid-template-rows: auto
              margin: -1px -1px -16px -1px
              padding: 0
            view_layout:
              grid-area: h
            cards:
              - type: markdown
                content: >
                  # {% if now() > today_at('18:00') %}Good evening{% elif
                  now() > today_at('12:00') %}Good afternoon{% elif now() >
                  today_at('5:00') %}Good morning{% else %}Good night{%
                  endif %}, {{ user }}.
                style:
                  .: |
                    ha-card {
                      background: none;
                      margin-bottom: -16px;
                    }
                  ha-markdown$: |
                    h1 {
                      font-size: var(--title-font-size);
                      font-weight: 500;
                      line-height: 1.1;
                      margin-left: -2px;
                      margin-block-end: -8px;
                      margin-top: -12px !important;
                    }
              - type: "custom:layout-card"
                layout_type: "custom:horizontal-layout"
                cards:
                  - type: "custom:mushroom-person-card"
                    entity: person.thomas_baxter
                    style: "ha-card {background: none;}"
                    use_entity_picture: true
                    view_layout: null
                layout:
                  width: 240
                  margin: -1
                view_layout:
                  place-self: center
                  show:
                    mediaquery: "(min-width: 800px)"

              - type: "custom:layout-card"
                layout_type: "custom:horizontal-layout"
                cards:
                  - type: "custom:mushroom-person-card"
                    entity: person.thomas_baxter
                    use_entity_picture: true
                    hide_state: true
                    hide_name: true
                    style: |
                      ha-card {background: none;
                        margin-top: 16px;
                        transform: scale(1.5) translate(-8px);
                      }
                layout:
                  width: 72
                view_layout:
                  place-self: start
                  show:
                    mediaquery: "(max-width: 799.99px)"

      - type: "custom:layout-card"
        layout_type: "custom:grid-layout"
        layout:
          margin: 0
          card_margin: 1px
        view_layout:
          grid-area: c1
        cards:
          - type: "custom:layout-card"
            layout_type: "custom:grid-layout"
            layout:
              grid-template-columns: >-
                repeat(auto-fill, [col-start] minmax(112px, 1fr)
                [col-end])
              margin: 0
              card_margin: 1px
              padding: 0
            cards:
              - type: "custom:button-card"
                template: header_card
                variables:
                  name: ENERGY
                  label: More
                  link: /ui-dashboard/energy
                view_layout:
                  grid-column: 1/-1

      - type: "custom:layout-card"
        layout_type: "custom:grid-layout"
        layout:
          margin: 0
          padding: 0
          card_margin: 1px
        view_layout:
          grid-area: c2
          show:
            mediaquery: "(min-width: 1128.1px), (max-width: 800px)"
        cards:
          - type: "custom:layout-card"
            layout_type: "custom:grid-layout"
            cards: &summary-column-network-cards
              - type: "custom:button-card"
                template: header_card
                variables:
                  name: NETWORK
                  label: More
                  link: /ui-dashboard/1
                view_layout:
                  grid-column: 1/-1

              - type: "custom:button-card"
                template:
                  - live_tile_card
                  - live_tile_with_long_state
                  - live_tile_with_state_countdown
                entity: binary_sensor.uptimekuma_accessibility_home
                name: WAN
                state:
                  - value: "off"
                    styles:
                      card:
                        - background: var(--primary-color)
                  - value: "on"
                    styles:
                      card:
                        - background: var(--ha-card-background)
                        - color: var(--primary-text-color)
                variables:
                  aspect_ratio: "[[[ return Math.round(this.offsetWidth / 112) ]]]"
                view_layout:
                  grid-column: 1/-2
