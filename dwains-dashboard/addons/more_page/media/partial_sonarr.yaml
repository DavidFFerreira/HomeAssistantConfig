---
type: custom:stack-in-card
mode: vertical
cards:
  - type: custom:dwains-flexbox-card
    cards:
      - type: custom:dwains-flexbox-card
        item_classes: "col-xs-12 col-sm-3 col-md-2 col-lg-2"
        cards:
          - type: markdown
            style: |
              ha-card { box-shadow: none; }
              ha-markdown { padding-bottom: 1px !important; }
            content: >
              <img width="125" src="https://brands.home-assistant.io/sonarr/logo.png"/><br/>
          - !include
            - ../../1_Templates/button_link.yaml
            - name: "Sonarr"
              icon: "mdi:television"
              url: !secret sonarr_url
      - type: custom:dwains-flexbox-card
        item_classes: "col-xs-12 col-sm-12 col-md-10 col-lg-10"
        cards:
          - type: custom:dwains-flexbox-card
            items_classes: "col-xs-12 col-sm-6 col-md-3 col-lg-3"
            cards:
              - !include
                - ../../1_Templates/button_state.yaml
                - name: "Tracked Shows"
                  sensor: "sensor.sonarr_shows"
              - !include
                - ../../1_Templates/button_state.yaml
                - name: "Queued Episodes"
                  sensor: "sensor.sonarr_queue"
              - !include
                - ../../1_Templates/button_state.yaml
                - name: "Upcoming Episodes"
                  sensor: "sensor.sonarr_upcoming"
              - !include
                - ../../1_Templates/button_state.yaml
                - name: "Wanted Episodes"
                  sensor: "sensor.sonarr_wanted"
          - type: custom:flex-table-card
            style: |
              ha-card {
                background-color: var(--dwains-theme-primary);
                padding-bottom: 10px;
              }
              .card-header {
                padding: 5px 16px;
                font-size: 18px;
                font-weight: 700 !important;
              }
              # font-family: { var(--primary-font-family);}
              # font-weight: {400 !important;}
            clickable: false
            css:
              table+: "border: 0;  padding-top: 5px; padding-bottom: 5px; padding-left: 10px; padding-right: 10px;"
              "tbody tr:nth-child(even)": "background-color: none !important;"
              "tbody tr:nth-child(odd)": "background-color: none !important;"
            entities:
              include: sensor.sonarr_upcoming_media
            max_rows: 12
            strict: true
            columns:
              - { data: data, modify: x.title, name: "Name" }
              - { data: data, modify: x.number, name: "No" }
              - { data: data, modify: x.episode, name: "Ep" }
              - {
                  data: data,
                  modify: new Date(x.airdate).toLocaleString('en-GB'),
                  name: "Date",
                  align: "center",
                }
