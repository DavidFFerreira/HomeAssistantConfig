- type: vertical-stack
  cards:
    - type: custom:dwains-flexbox-card
      items_classes: "col-xs-12"
      cards:
        - type: custom:dwains-flexbox-card
          padding: false
          items_classes: "col-xs-12"
          cards:
            - type: custom:auto-entities
              card:
                items_classes: col-xs-12 col-sm-6 col-md-3 col-lg-3
                padding: true
                type: custom:dwains-flexbox-card
              filter:
                include:
                  - domain: sensor
                    integration: hdhomerun
                    entity_id: /tuner\d+$/
                    options:
                      type: custom:mushroom-entity-card
                      use_entity_picture: true
                      layout: vertical
                      tap_action: more-info
                      hold_action: none
                      double_tap_action: none

        - type: custom:dwains-flexbox-card
          padding: false
          items_classes: "col-xs-12"
          cards:
            - type: custom:apexcharts-card
              graph_span: 24h
              header:
                show: true
                show_states: true
                colorize_states: true
                title: "Network Rate"
              span:
                start: day
              apex_config:
                chart: { type: "area", height: 270 }
                stroke: { show: true, width: 2, curve: smooth }
                legend: { show: false }
                dataLabels: { enabled: false }
                xaxis:
                  {
                    type: "datetime",
                    labels: { datetimeFormatter: { month: "ddd", day: "ddd" } },
                  }
                fill:
                  {
                    type: "gradient",
                    gradient:
                      {
                        shadeIntensity: 1,
                        inverseColors: false,
                        opacityFrom: 0.45,
                        opacityTo: 0.05,
                        stops: [20, 100, 100, 100],
                      },
                  }
              all_series_config:
                attribute: network_rate
                transform: "return x / 1000000;"
                unit: "Mb/s"
                type: area
                # extend_to_end: false
                group_by:
                  func: last
                  duration: 1m

              series:
                - entity: sensor.hdhomerun_tuner0
                  name: Tuner 1
                - entity: sensor.hdhomerun_tuner1
                  name: Tuner 2
                - entity: sensor.hdhomerun_tuner2
                  name: Tuner 3
                - entity: sensor.hdhomerun_tuner3
                  name: Tuner 4
